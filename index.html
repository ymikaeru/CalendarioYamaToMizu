<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalendÃ¡rio de Poesias - Yama to Mizu</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Noto+Serif+JP:wght@300;400&family=Zen+Antique+Soft&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f8f8f8;
            color: #1a1a1a;
            min-height: 100vh;
            padding: 80px 24px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
    </style>
    <script>
        // Definir diasDaSemanaComKanji globalmente
        const diasDaSemanaComKanji = [
            { pt: 'Dom', jp: 'æ—¥' },
            { pt: 'Seg', jp: 'æœˆ' },
            { pt: 'Ter', jp: 'ç«' },
            { pt: 'Qua', jp: 'æ°´' },
            { pt: 'Qui', jp: 'æœ¨' },
            { pt: 'Sex', jp: 'é‡‘' },
            { pt: 'SÃ¡b', jp: 'åœŸ' }
        ];

        /* --- END GLOBAL STATE --- */

        /* --- FUNÃ‡Ã•ES --- */
    </script>
    <style>
        .controls-card {
            background: #fff;
            border: 1px solid #eee;
            padding: 40px;
            margin-bottom: 60px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.02);
        }

        .controls-title {
            font-size: 13px;
            font-weight: 600;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            text-align: center;
            margin-bottom: 40px;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .control-group label {
            font-size: 11px;
            font-weight: 600;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
            display: block;
        }

        .control-group select,
        .control-group input,
        .btn {
            height: 48px;
            width: 100%;
            padding: 0 16px;
            border: 1px solid #e5e5e5;
            background: #fff;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #1a1a1a;
            border-radius: 0;
            transition: all 0.2s;
            appearance: none;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 500;
            font-size: 12px;
            gap: 8px;
        }

        .btn-primary {
            background: #111;
            color: #fff;
            border-color: #111;
        }

        .btn-primary:hover {
            background: #333;
        }

        .btn-secondary {
            background: #fff;
            color: #111;
            border: 1px solid #e5e5e5;
        }

        .btn-secondary:hover {
            border-color: #111;
        }

        .button-row {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        /* CALENDÃRIO - LAYOUT HORIZONTAL (LANDSCAPE) */
        /* CALENDÃRIO - LAYOUT HORIZONTAL (LANDSCAPE) */
        #calendario {
            background: #fff;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.03);
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            /* Permite rodapÃ© em nova linha */
            /* CalendÃ¡rio ESQUERDA, Poesia DIREITA */
            overflow: hidden;
            min-height: 600px;
        }

        /* ÃREA DA POESIA - DIREITA (VERTICAL) */
        .hero-section {
            background: #fff;
            padding: 80px 40px;
            width: 55%;
            /* POEMA COM MAIS DESTAQUE */
            /* Coluna da direita (visualmente) */
            border-bottom: none;
            border-left: 1px solid #f0f0f0;
            /* Borda na esquerda agora */
            border-right: none;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            writing-mode: vertical-rl;
            /* Escrita Vertical Japonesa */
            text-orientation: upright;
        }

        .poesia-original {
            font-family: 'Zen Antique Soft', serif;
            font-size: 72px;
            /* MUITO MAIOR */
            /* Ajuste para vertical */
            font-weight: 400;
            line-height: 1.8;
            margin-bottom: 0;
            margin-left: 40px;
            /* Margem maior */
            /* Margem lateral no modo vertical */
            color: #111;
            letter-spacing: 0.15em;
        }

        .poesia-traducao {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 300;
            color: #666;
            line-height: 1.8;
            max-width: none;
            margin: 0;
            font-style: italic;
            writing-mode: horizontal-tb;
            /* TraduÃ§Ã£o continua horizontal */
            width: 100%;
            text-align: center;
            margin-top: 30px;
            display: block;
            /* Garante visibilidade */
        }

        /* ÃREA DO CALENDÃRIO - ESQUERDA (SECUNDÃRIO) */
        .calendar-section {
            padding: 50px 60px;
            background: #fff;
            width: 45%;
            /* Coluna da direita (agora na esquerda por causa do reverse) */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 40px;
            border-bottom: 2px solid #111;
            padding-bottom: 20px;
        }

        .month-title {
            font-size: 48px;
            font-weight: 700;
            letter-spacing: -0.03em;
            color: #111;
            line-height: 1;
        }

        .moon-phases {
            text-align: right;
        }

        .moon-phases-title {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #999;
            margin-bottom: 6px;
        }

        .moon-phases-row {
            display: flex;
            gap: 8px;
            font-size: 12px;
            color: #555;
            font-family: 'Inter', sans-serif;
        }

        .moon-phase {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 28px;
            gap: 4px;
        }

        .moon-phase span:first-child {
            font-size: 18px;
            line-height: 1;
            display: inline-block;
            width: 20px;
            height: 20px;
            text-align: center;
        }

        .moon-phase span:last-child {
            font-size: 10px;
            color: #999;
        }

        /* LISTA VERTICAL DE DIAS */
        .calendar-list {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            justify-content: space-between;
            /* Espalha verticalmente se sobrar espaÃ§o */
        }

        .list-header {
            display: grid;
            grid-template-columns: 40px 60px 1fr;
            padding: 10px 0;
            border-bottom: 2px solid #111;
            margin-bottom: 10px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #999;
            font-weight: 700;
        }

        .day-row {
            display: grid;
            grid-template-columns: 40px 60px 1fr;
            align-items: center;
            padding: 4px 0;
            /* Compacto para caber 31 dias */
            border-bottom: 1px dotted #eee;
            font-family: 'Inter', sans-serif;
        }

        .day-row:last-child {
            border-bottom: none;
        }

        .day-num {
            font-family: 'Zen Antique Soft', serif;
            font-size: 18px;
            font-weight: 400;
            color: #111;
        }

        .day-weekday-jp {
            font-family: 'Noto Serif JP', serif;
            font-size: 14px;
            color: #555;
            padding-left: 8px;
        }

        .day-info-container {
            text-align: right;
            font-size: 11px;
        }

        .day-feriado {
            color: #dc2626;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Cores da Linha */
        .sunday-row .day-num,
        .sunday-row .day-weekday-jp {
            color: #dc2626;
        }

        .saturday-row .day-num,
        .saturday-row .day-weekday-jp {
            color: #2563eb;
        }

        .holiday-row .day-num,
        .holiday-row .day-weekday-jp {
            color: #dc2626;
        }

        /* POESIA EM 3 COLUNAS VERTICAIS (Direita para Esquerda) */
        .poesia-columns {
            display: flex;
            flex-direction: row-reverse;
            /* Leitura da DIREITA para ESQUERDA */
            justify-content: flex-start;
            align-items: flex-start;
            gap: 30px;
            padding: 40px 60px;
            height: 100%;
            min-height: 500px;
            position: relative;
        }

        .poem-line {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            font-family: 'Zen Antique Soft', serif;
            font-size: 42px;
            font-weight: 400;
            line-height: 1.4;
            color: #111;
            letter-spacing: 0.05em;
            white-space: nowrap;
        }

        /* Escalonamento diagonal: 1Âª coluna (direita) no topo, 3Âª coluna (esquerda) mais abaixo */
        .poem-line:nth-child(1) {
            transform: translate(130px, -860px);
        }

        .poem-line:nth-child(2) {
            transform: translate(30px, -380px);
        }

        .poem-line:nth-child(3) {
            transform: translate(-70px, 360px);
        }

        /* RODAPÃ‰: Mini CalendÃ¡rios + TraduÃ§Ã£o + Romaji */
        .calendar-footer {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 40px 40px;
            background: #fafafa;
            border-top: 2px solid #ddd;
            width: 100%;
            flex-shrink: 0;
            min-height: 140px;
        }

        .footer-mini-cal {
            flex: 0 0 150px;
        }

        .mini-cal {
            font-family: 'Inter', sans-serif;
            font-size: 10px;
        }

        .mini-cal-header {
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
            color: #111;
        }

        .mini-cal-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            text-align: center;
        }

        .mini-cal-days span {
            padding: 2px;
        }

        .mini-cal-days .sun {
            color: #dc2626;
        }

        .mini-cal-days .sat {
            color: #2563eb;
        }

        .footer-traducao {
            flex: 1;
            text-align: center;
            padding: 0 40px;
            max-width: 640px;
        }

        .traducao-texto {
            font-family: 'Inter', sans-serif;
            font-size: 18px;
            line-height: 1.8;
            color: #555;
            font-style: italic;
        }

        .traducao-autor {
            font-size: 11px;
            color: #999;
            margin-top: 10px;
        }

        .romaji-texto {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #333;
            margin-bottom: 25px;
            letter-spacing: 0.03em;
            font-weight: 500;
        }

        .footer-obra-titulo {
            font-family: 'Inter', sans-serif;
            font-size: 19px;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: #222;
            margin-bottom: 10px;
        }

        /* Assinaturas */
        .signature-jp {
            font-family: 'Zen Antique Soft', serif;
            font-size: 28px;
            writing-mode: vertical-rl;
            text-orientation: upright;
            position: absolute;
            bottom: 80px;
            left: 120px;
            /* Ajuste fino */
            color: #111;
        }

        .poesia-traducao-wrapper {
            position: absolute;
            bottom: 40px;
            width: 80%;
            text-align: center;
        }

        .signature-pt {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
            font-weight: 300;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .hanko-seal {
            bottom: 90px;
            left: 60px;
        }

        /* GRID */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            width: 100%;
        }

        .day-header {
            padding: 16px 0;
            text-align: center;
            /* Centralizado para acomodar Kanji */
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            border-bottom: 2px solid #111;
            /* Linha mais forte */
            color: #111;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .kanji-day {
            font-family: 'Noto Serif JP', serif;
            font-size: 14px;
            font-weight: 400;
            color: #555;
        }

        .day-cell {
            min-height: 140px;
            padding: 10px;
            /* Padding interno */
            border-bottom: 1px solid #eee;
            position: relative;
        }

        /* REMOVENDO BORDAS VERTICAIS */
        .day-cell {
            border-right: none !important;
        }

        .day-header {
            border-right: none !important;
        }

        .day-number {
            font-size: 28px;
            /* NÃºmeros ainda maiores */
            font-weight: 400;
            font-family: 'Zen Antique Soft', serif;
            /* Usando a fonte japonesa nos nÃºmeros */
            margin-bottom: 8px;
        }

        /* CARIMBO (HANKO) */
        .hanko-seal {
            width: 50px;
            height: 50px;
            border: 3px solid #d93d3d;
            /* Vermelho carimbo */
            border-radius: 8px;
            /* Canto levemente arredondado */
            color: #d93d3d;
            font-family: 'Yuji Syuku', serif;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            writing-mode: vertical-rl;
            text-orientation: upright;
            position: absolute;
            bottom: 60px;
            left: 60px;
            /* Canto inferior esquerdo da Ã¡rea do poema */
            opacity: 0.8;
            transform: rotate(-5deg);
            /* Leve inclinaÃ§Ã£o natural */
            background: rgba(255, 255, 255, 0.9);
        }

        .day-number.sunday {
            color: #dc2626 !important;
        }

        .day-number.saturday {
            color: #2563eb !important;
        }

        .day-number.holiday {
            color: #dc2626 !important;
            font-weight: 500;
        }

        .holiday-name {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            color: #dc2626;
            margin-top: 4px;
            letter-spacing: 0.05em;
        }

        .other-month .day-number {
            color: #eee !important;
        }

        .year-footer {
            margin-top: 40px;
            text-align: right;
            font-size: 80px;
            font-weight: 800;
            color: #f0f0f0;
            line-height: 0.8;
            letter-spacing: -0.05em;
        }

        /* CARD */
        .card-miniatura {
            background: #fff;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 1px solid #eee;
        }

        .card-miniatura:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
            border-color: #111;
        }

        .grid-ano {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
        }

        /* Media Queries */
        @media (max-width: 1024px) {
            .grid-ano {
                grid-template-columns: repeat(2, 1fr);
            }

            .calendar-section {
                padding: 40px;
            }

            .day-number {
                font-size: 20px;
            }

            .day-cell {
                min-height: 100px;
            }
        }

        @media (max-width: 600px) {
            .grid-ano {
                grid-template-columns: 1fr;
            }

            .month-title {
                font-size: 32px;
            }

            .hero-section {
                padding: 60px 24px;
            }

            .calendar-section {
                padding: 30px 20px;
            }

            .day-header {
                text-align: center;
            }

            @media print {
                @page {
                    size: A3 landscape;
                    /* ForÃ§a folha A3 horizontal */
                    margin: 0;
                }

                body {
                    background: white;
                    padding: 0;
                }

                .controls-card,
                .btn {
                    display: none;
                }

                #calendario {
                    box-shadow: none;
                    min-height: 100vh;
                    /* Ocupa folha toda */
                    width: 100%;
                    border: none;
                    flex-direction: row-reverse;
                    /* Garante texto na direita */
                }

                .hero-section {
                    width: 55% !important;
                    border-left: 1px solid #ccc;
                    /* Borda agora na esquerda */
                    border-right: none;
                    padding: 60px;
                    writing-mode: vertical-rl;
                    /* Vertical garantido */
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                }

                .poesia-original {
                    font-size: 84px;
                    /* GIGANTE NA IMPRESSÃƒO */
                }

                .calendar-section {
                    width: 45% !important;
                    padding: 40px;
                }

                .month-title {
                    font-size: 48px;
                }

                .day-cell {
                    border-bottom: 1px solid #ccc;
                }
            }
    </style>
</head>

<body>
    <div class="container">
        <!-- Controles -->
        <div class="controls-card">
            <h1 class="controls-title">
                ğŸ“… Gerador de CalendÃ¡rio
            </h1>

            <!-- Controles -->
            <div class="controls-grid">
                <div class="control-group">
                    <label>MÃªs</label>
                    <select id="mesSelect" onchange="atualizarCalendario()">
                        <option value="0">Janeiro</option>
                        <option value="1">Fevereiro</option>
                        <option value="2">MarÃ§o</option>
                        <option value="3">Abril</option>
                        <option value="4">Maio</option>
                        <option value="5">Junho</option>
                        <option value="6">Julho</option>
                        <option value="7">Agosto</option>
                        <option value="8">Setembro</option>
                        <option value="9">Outubro</option>
                        <option value="10">Novembro</option>
                        <option value="11">Dezembro</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>Ano</label>
                    <input type="number" id="anoInput" onchange="atualizarCalendario()">
                </div>

                <div class="control-group">
                    <label>Tamanho do Papel</label>
                    <select id="tamanhoPapel">
                        <option value="A3">A3 (297 Ã— 420 mm)</option>
                        <option value="A4">A4 (210 Ã— 297 mm)</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>&nbsp;</label>
                    <button onclick="randomizarPoesia()" class="btn btn-primary"
                        style="width: 100%; justify-content: center;">
                        ğŸ² Randomizar MÃªs
                    </button>
                </div>

                <div class="control-group">
                    <label>&nbsp;</label>
                    <button onclick="randomizarAnoCompleto()" class="btn btn-primary"
                        style="width: 100%; justify-content: center;">
                        ğŸ² Randomizar Ano Completo
                    </button>
                </div>
            </div>

            <div class="button-row">
                <button class="btn btn-secondary" onclick="alternarVisao()">
                    ğŸ‘ï¸ Ver Grade Anual
                </button>
                <button class="btn btn-dark" onclick="imprimirMes()">
                    ğŸ–¨ï¸ Imprimir MÃªs
                </button>
                <button class="btn btn-primary" onclick="imprimirAnoCompleto()">
                    ğŸ“… Imprimir Ano Completo (12 meses)
                </button>
            </div>
        </div>

        <!-- VisÃ£o Ãšnica (PadrÃ£o) -->
        <div id="calendario">
            <!-- ConteÃºdo do calendÃ¡rio gerado via JS -->
        </div>

        <!-- VisÃ£o Grade Anual (Oculta) -->
        <div id="visaoAno" class="grid-ano" style="display: none;">
            <!-- Grid gerado via JS -->
        </div>
    </div>

    <script>
        // Estado global
        let state = {
            mes: new Date().getMonth(),
            ano: new Date().getFullYear(),
            poesiaSelecionada: 0,
            temaFiltro: 'Todos',
            poesiasEscolhidas: Array(12).fill(null),
            todasPoesias: [
                // JANEIRO - VerÃ£o
                {
                    title: "Pirilampos",
                    original: "å¤•ã•ã‚Šã¦ã€€é’ç”°ã‚’æ¸¡ã‚‹é¢¨æ¶¼ã—ã€€è¡Œæ‰‹ã®é—‡ã‚’è›ã‹ã™ã‚ã¬",
                    romaji: "YÅ«sarite / Aota wo wataru kaze suzushi / Yukute no yami wo hotaru kasumenu",
                    translation: "Ao cair da tarde, O vento que cruza os arrozais verdes traz frescor; Pirilampos riscam a escuridÃ£o do meu caminho.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Verde Vibrante",
                    original: "é’é’ã¨ã€€èŒ‚ã‚Šåˆã†æœ¨ã®è‘‰å½±ã«ã€€æ¶¼ã—ãé¢¨ã®æ™‚ã€…å¹ã‘ã‚‹",
                    romaji: "Aoao to / Shigerian ko no hakage ni / Suzushiki kaze no tokidoki fukeru",
                    translation: "Azul-verde vibrante! Ã€ sombra das folhas que se entrelaÃ§am densamente, Uma brisa fresca sopra de tempos em tempos.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Arrozais Verdes",
                    original: "é’é’ç”°åŸã€€æ¸¡ã‚‹é¢¨ã“ãå¿ƒåœ°ã‚ˆã‘ã‚Œã€€é ¬ã«å½“ãŸã‚Šã¦æ±—ã®ä¹¾ãã‚’",
                    romaji: "Aoao tahara / Wataru kaze koso kokochiyokere / HÅ ni atarite ase no kawaku wo",
                    translation: "O vento que cruza os arrozais verdejantes Ã‰ tÃ£o agradÃ¡vel! Toca meu rosto E seca o suor que escorre.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Vento Perfumado",
                    original: "é¢¨è–«ã‚‹ã€€æœã®ã™ãšã‚ã«å¿ƒåœ°ã‚ˆãã€€éˆ´è™«ã®éŸ³ã‚’èãã¤ã¤æ­©ã‚€",
                    romaji: "Kaze kaoru / Asa no suzuro ni kokochiyoki / Suzumushi no ne wo kikitsutsu ayumu",
                    translation: "O vento perfumado da manhÃ£ traz uma sensaÃ§Ã£o deliciosa! Caminho ouvindo O som dos grilos cantando.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Sombra do Bambu",
                    original: "ç«¹æ—ã®ã€€ä¸‹é™°æ¶¼ã—å¤ã®æ—¥ã®ã€€æš‘ã•ã‚’å¿˜ã‚Œã—ã°ã—ãŸãŸãšã‚€",
                    romaji: "Chikurin no / Shitakage suzushi natsu no hi no / Atsusa wo wasure shibashi tatazumu",
                    translation: "Fresca Ã© a sombra sob os bambus! Em um dia de verÃ£o, EsqueÃ§o o calor E fico parado por um momento.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },

                // FEVEREIRO - VerÃ£o
                {
                    title: "ExpansÃ£o da Alma",
                    original: "é¢¨è–«ã‚Šã€€é’è‘‰å…‰ã‚Œã‚‹åˆå¤ã®ã€€åº­ã«ä¸‹ã‚ŠãŸã¦ã°èƒ¸ã®ã²ã‚ãã¬",
                    romaji: "Kaze kaori / Aoba hikareru shoka no / Niwa ni oritareba mune no hiroginu",
                    translation: "O vento perfumado e as folhas verdes resplandecem; Ao descer ao jardim no inÃ­cio do verÃ£o, Meu peito se dilata infinitamente.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Luz nas Folhas",
                    original: "æœ¨ã®è‘‰å½±ã€€ã¯ã ã‚‰ã«å…‰ã‚‹å¤ã®æ—¥ã®ã€€æš‘ã•ã‚‚å¿˜ã‚Œã—ã°ã—ãŸãŸãšã‚€",
                    romaji: "Ko no hakage / Hadara ni hikaru natsu no hi no / Atsusa mo wasure shibashi tatazumu",
                    translation: "AtravÃ©s da sombra das folhas, A luz do sol cintila salpicada... EsqueÃ§o atÃ© o calor do verÃ£o E fico parado, contemplando.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Juncos Crescendo",
                    original: "è‹¥è‘¦ã®ã€€ã™ãã™ãä¼¸ã³ã‚‹å¤ã®é‡ã®ã€€åŠ›å¼·ã•ã‚’è¦‹ã‚‹ã“ãå¬‰ã—",
                    romaji: "Wakaashi no / Sukusuku nobiru natsu no no no / Chikarazuyosa wo miru koso ureshii",
                    translation: "Os juncos jovens crescem vigorosos nos campos de verÃ£o... Que alegria ver Essa forÃ§a poderosa!",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Verde Intenso",
                    original: "é’è‘‰è‹¥è‘‰ã€€å…‰ã‚Šè¼ãå¤ã®æœã€€å¿ƒã‚‚æ™´ã‚Œã¦æ°—åˆ†çˆ½ã‚„ã‹",
                    romaji: "Aoba wakaba / Hikari kagayaku natsu no asa / Kokoro mo harete kibun sawayaka",
                    translation: "Folhas verdes, folhas novas Brilham radiantes na manhÃ£ de verÃ£o... Meu coraÃ§Ã£o se abre E meu espÃ­rito se torna fresco.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Rio Azul",
                    original: "é’é’ã¨ã€€æ¾„ã‚ã‚‹å·é¢ã«é®è·³ã­ã¦ã€€å¤ã®ã„ã®ã¡ã®è¼ãè¦‹ã›ã¬",
                    romaji: "Aoao to / Sumeru kawamo ni ayu hanete / Natsu no inochi no kagayaki misenu",
                    translation: "Azul profundo e lÃ­mpido Ã© o rio... Os peixes saltam na superfÃ­cie, Mostrando o brilho Da vida no verÃ£o.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },

                // MARÃ‡O - Outono
                {
                    title: "O Arco-Ãris de Maio",
                    original: "äº”æœˆé›¨ã®ã€€éœ½ã‚‹ã‚‹ã¨è¦‹ã‚Œã°é æ–¹ã«ã€€é›²ã®å³¯ä¸¦ã¿ã†ã™ã‚‰è™¹è¦‹ã‚†",
                    romaji: "Samidare no / Haruru to mireba enpÅ ni / Kumo no mine nami usura niji miyu",
                    translation: "Ao dissipar-se a longa chuva de maio, Vislumbro ao longe picos de nuvens E um tÃªnue arco-Ã­ris a surgir.",
                    kigo: "Outono",
                    meses: [5]
                },
                {
                    title: "CÃ©u Transparente",
                    original: "ç§‹æ™´ã‚Œã®ã€€ç©ºã®æ¸…ã‘ã•è¨€è‘‰ãªã—ã€€ãŸã è¦‹ä¸Šã’ã¤ã¤å¿ƒæ´—ã‚ã‚‹",
                    romaji: "Akibare no / Sora no kiyokesa kotoba nashi / Tada miagetsutsu kokoro arawareru",
                    translation: "NÃ£o hÃ¡ palavras para descrever A pureza do cÃ©u claro de outono... Apenas olho para cima E meu coraÃ§Ã£o Ã© lavado.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Ar Cristalino",
                    original: "ç§‹ã®ç©ºã€€æ¾„ã‚ã‚‹ãŒå¦‚ãå¿ƒã¾ã§ã€€æ¸…ã‚ã‚‰ã‚Œã‚†ãæ€ã„ã™ã‚‹ã‹ãª",
                    romaji: "Aki no sora / Sumeru ga gotoku kokoro made / Kiyomerare yuku omoi suru kana",
                    translation: "Como o cÃ©u lÃ­mpido do outono, Sinto que atÃ© meu coraÃ§Ã£o EstÃ¡ sendo purificado.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Folhas Coloridas",
                    original: "ã‚‚ã¿ã˜è‘‰ã®ã€€è‰²ã¥ãåˆã‚€ã‚‹ç§‹ã®å±±ã€€è¦‹ã‚‹ã‚‚æ¥½ã—ãä»Šæ—¥ã“ã®é ƒã‹ãª",
                    romaji: "Momijiba no / Irozuki hajimuru aki no yama / Miru mo tanoshiki kyÅ kono goro kana",
                    translation: "As folhas de bordo comeÃ§am a se colorir Na montanha de outono... Que prazer contemplÃ¡-las Nestes dias!",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Brisa Outonal",
                    original: "ç§‹é¢¨ã®ã€€æ¶¼ã—ãå¹ãã¦å¿ƒåœ°ã‚ˆã—ã€€æš‘ã•å»ã‚ŠãŸã‚‹å¹¸ã‚’æ€ã„ã¬",
                    romaji: "Akikaze no / Suzushiku fukite kokochiyoshi / Atsusa saritaru sachi wo omoinu",
                    translation: "A brisa de outono sopra fresca e agradÃ¡vel... Penso na felicidade De o calor ter passado.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },

                // ABRIL - Outono  
                {
                    title: "O Tempo da DÃ¡lia",
                    original: "ãƒ€ãƒ¼ãƒªãƒ¤ã®ã€€èŠ±ã®ã„ã‚ã„ã‚ç§‹ã®é™½ã«ã€€ã‚‚ãˆãŸã¤ã‚’è¦‹ã¬ã‚ãŒæš‡ã²ã¾ã‚’",
                    romaji: "DÄriya no / Hana no iroiro aki no hi ni / Moetatsu wo minu waga hima hima wo",
                    translation: "As vÃ¡rias cores das DÃ¡lias ardem como fogo ao sol de outono... E eu aproveito meus momentos de folga para contemplar esse incÃªndio.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Sol de Outono",
                    original: "ç§‹ã®é™½ã®ã€€å„ªã—ãç…§ã‚‰ã™åˆå¾Œã®åº­ã€€é™ã‘ã•ã®ä¸­ã«å¿ƒå®‰ã‚‰ã",
                    romaji: "Aki no hi no / Yasashiku terasu gogo no niwa / Shizukesa no naka ni kokoro yasuragu",
                    translation: "O sol de outono ilumina gentilmente O jardim da tarde... No silÃªncio, Meu coraÃ§Ã£o encontra paz.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Montanha Distante",
                    original: "ç§‹æ™´ã‚Œã«ã€€é ãå±±è¦‹ãˆå¿ƒåœ°ã‚ˆã—ã€€ç©ºæ°—æ¾„ã¿ãŸã‚‹ä»Šæ—¥ã“ã®é ƒã‚’",
                    romaji: "Akibare ni / TÅki yama mie kokochiyoshi / KÅ«ki sumitaru kyÅ kono goro wo",
                    translation: "No cÃ©u claro de outono, vejo montanhas dist antes... Que sensaÃ§Ã£o agradÃ¡vel! Nestes dias de ar puro.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "LibÃ©lulas DanÃ§ando",
                    original: "ç§‹ç©ºã«ã€€ç¾¤ã‚Œã¦é£›ã³äº¤ã†èµ¤ã¨ã‚“ã¼ã€€å¤•æ—¥ã‚’æµ´ã³ã¦è¼ãè¦‹ã›ã¬",
                    romaji: "Akizora ni / Murete tobikau aka tonbo / YÅ«hi wo abite kagayaki misenu",
                    translation: "No cÃ©u de outono, libÃ©lulas vermelhas voam em bando... Banhadas pelo sol poente, Mostram seu brilho.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Noite Fresca",
                    original: "ç§‹ã®å¤œã®ã€€æ¶¼ã—ãé¢¨ã«èª˜ã‚ã‚Œã¦ã€€çª“ã‚’é–‹ã‘ã°æ˜Ÿã®è¼ã",
                    romaji: "Aki no yo no / Suzushiki kaze ni sasowarete / Mado wo akeba hoshi no kagayaki",
                    translation: "Convidado pela brisa fresca da noite de outono, Abro a janela E vejo o brilho das estrelas.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },

                // MAIO - Outono
                {
                    title: "Vidros Cintilantes",
                    original: "ã†ã‚‰ã‚‰ã‹ã«ã€€é™½ã–ã™æœãªã‚Šç§‹ã®ç©ºã€€ã™ã‘ã‚‹ç»ç’ƒæˆ¸ã¯ã¿ãªãã‚‰ã‚ã‘ã‚‹",
                    romaji: "Uraraka ni / Hi zasu asa nari aki no sora / Sukeru harido wa mina kiramekeru",
                    translation: "Radiante e serena Ã© a manhÃ£, banhada de sol sob o cÃ©u de outono... As portas de vidro, perfeitamente translÃºcidas, Cintilam todas, em um espetÃ¡culo de pura luz.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Claridade Matinal",
                    original: "ç§‹ã®æœã€€çª“ã‚ˆã‚Šå·®ã—è¾¼ã‚€å…‰è¦‹ã¦ã€€ä¸€æ—¥ã®å§‹ã¾ã‚Šå¿ƒèºã‚‰ã™",
                    romaji: "Aki no asa / Mado yori sashikomu hikari mite / Ichinichi no hajimari kokoro odorasu",
                    translation: "ManhÃ£ de outono... Vejo a luz entrando pela janela E meu coraÃ§Ã£o salta Com o inÃ­cio do dia.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Grama Outonal",
                    original: "ç§‹è‰ã®ã€€éœ²ã«æ¿¡ã‚ŒãŸã‚‹æœã®åº­ã€€é™å¯‚ã®ä¸­ã«ç¾ã—ã•å®¿ã‚‹",
                    romaji: "Akikusa no / Tsuyu ni nuretaru asa no niwa / Seijaku no naka ni utsukushisa yadoru",
                    translation: "As ervas de outono molhadas de orvalho No jardim da manhÃ£... No silÃªncio Habita a beleza.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Paz do Entardecer",
                    original: "ç§‹ã®æ—¥ã®ã€€å¤•ã¹é™ã‹ã«æš®ã‚Œã‚†ãã¦ã€€å¿ƒã®å†…ã‚‚ç©ã‚„ã‹ã«ãªã‚‹",
                    romaji: "Aki no hi no / YÅ«be shizuka ni kureyukite / Kokoro no uchi mo odayaka ni naru",
                    translation: "O dia de outono vai silenciosamente escurecendo... E dentro do meu coraÃ§Ã£o TambÃ©m se faz a calma.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },
                {
                    title: "Lua Clara",
                    original: "ç§‹ã®æœˆã€€å†´ãˆå†´ãˆã¨ç…§ã‚‹å¤œã®ç©ºã€€çœºã‚ã¦å¿ƒæ¸…ã‚ã‚‰ã‚Œã‚†ã",
                    romaji: "Aki no tsuki / Saezae to teru yoru no sora / Nagamete kokoro kiyomerare yuku",
                    translation: "A lua de outono brilha lÃ­mpida e clara No cÃ©u noturno... Contemplando-a, Meu coraÃ§Ã£o Ã© purificado.",
                    kigo: "Outono",
                    meses: [3, 4, 5]
                },

                // JUNHO - Inverno
                {
                    title: "O Som da Geada",
                    original: "æ©‹ã®ä¸Šã®ã€€å¤œéœœã•ã‚‰ã•ã‚‰éŸ³ã™ãªã‚Šã€€å¯’æœˆç©ºã«ã¤ã‚ãŸãå…‰ã‚‹",
                    romaji: "Hashi no ue no / Yoshimo sarasara oto sunari / Kangetsu sora ni tsumetaku hikaru",
                    translation: "Sobre o tabuleiro da ponte, a geada noturna roÃ§a e sussurra â€” 'sara-sara'... Enquanto no alto, a Lua Fria cintila, GÃ©lida e cortante na vastidÃ£o do firmamento.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "ManhÃ£ Gelada",
                    original: "å†¬ã®æœã€€çª“ã®å¤–ã«ã¯éœœé™ã‚Šã¦ã€€ç™½ãä¸–ç•Œã®ç¾ã—ãã‹ãª",
                    romaji: "Fuyu no asa / Mado no soto ni wa shimo furite / Shiroki sekai no utsukushiki kana",
                    translation: "ManhÃ£ de inverno... Fora da janela a geada caiu, Criando um mundo branco De grande beleza.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Ar Frio",
                    original: "å¯’ãæœã€€æ¯ç™½ãå‡ºã¦å†¬ã‚’çŸ¥ã‚‹ã€€èº«ã‚’å¼•ãç· ã‚ã¦æ­©ã¿å§‹ã‚ã‚‹",
                    romaji: "Samuki asa / Iki shiroku dete fuyu wo shiru / Mi wo hikishimete ayumi hajimeru",
                    translation: "ManhÃ£ fria... Minha respiraÃ§Ã£o sai branca e sei que Ã© inverno. Armando-me de coragem, ComeÃ§o a caminhar.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "CÃ©u de Inverno",
                    original: "å†¬ç©ºã®ã€€æ¾„ã¿æ¸¡ã‚ŠãŸã‚‹é’ã•ã‹ãªã€€å¿ƒã¾ã§æ¾„ã‚€æ€ã„ã™ã‚‹ãªã‚Š",
                    romaji: "Fuyuzora no / Sumiwataritaru aosa kana / Kokoro made sumu omoi suru nari",
                    translation: "Que azul lÃ­mpido tem o cÃ©u de inverno! Sinto como se AtÃ© meu coraÃ§Ã£o Se tornasse transparente.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Ramos Nus",
                    original: "å†¬æœ¨ç«‹ã€€è‘‰ã‚’è½ã¨ã—ãŸã‚‹æè¦‹ã‚Œã°ã€€æ˜¥ã‚’å¾…ã¤åŠ›æ„Ÿã˜ã‚‰ã‚Œã¬",
                    romaji: "Fuyukodachi / Ha wo otoshitaru eda mireba / Haru wo matsu chikara kanjirare nu",
                    translation: "As Ã¡rvores de inverno... Vendo os galhos que perderam as folhas, Sinto a forÃ§a Que aguarda a primavera.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },

                // JULHO - Inverno
                {
                    title: "O Toque do Braseiro",
                    original: "ç€¬æˆ¸ç«é‰¢ã®ã—ãŸã—ã„è§¦æ„Ÿã€€ãƒ’ã‚·ãƒ’ã‚·ã¨é³´ã‚‹ã€€ç‚­ç«ã®éŸ³",
                    romaji: "Seto hibachi no shitashii shokkukan / Hishihishi to naru / Sumibi no oto",
                    translation: "A textura Ã­ntima e familiar do braseiro de cerÃ¢mica... E o som do carvÃ£o que canta â€” 'hishi-hishi' â€” Num estalar tenso e abafado.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Calor do Fogo",
                    original: "ç‚‰ã®ç«ã®ã€€æ¸©ã‚‚ã‚Šå¬‰ã—ãå†¬ã®å¤œã€€å®¶æ—å›²ã¿ã¦å¿ƒå’Œã‚€ãªã‚Š",
                    romaji: "Ro no hi no / Nukumori ureshiki fuyu no yoru / Kazoku kakomite kokoro nagomu nari",
                    translation: "Que alegria o calor do fogo na lareira Numa noite de inverno! A famÃ­lia se reÃºne E os coraÃ§Ãµes se harmonizam.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Lua GÃ©lida",
                    original: "å¯’æœˆã®ã€€å†´ãˆæ¸¡ã‚ŠãŸã‚‹å¤œã®ç©ºã€€å‡ã‚‹æ€ã„ã§çœºã‚ã¦ãŠã‚Šã¬",
                    romaji: "Kangetsu no / Saewataritaru yoru no sora / KÅru omoi de nagamete orinu",
                    translation: "A lua fria brilha intensamente No cÃ©u noturno... Com sentimento de congelamento, Fico contemplando.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Vento Cortante",
                    original: "æœ¨æ¯ã‚‰ã—ã®ã€€å¹ãéŸ³èã‘ã°èº«ã«æ²ã¿ã¦ã€€å†¬ã®å³ã—ã•æ”¹ã‚ã¦çŸ¥ã‚‹",
                    romaji: "Kogarashi no / Fuku oto kikeba mi ni shimite / Fuyu no kibishisa aratamete shiru",
                    translation: "Ouvindo o som do vento gÃ©lido soprar, Sinto penetrar atÃ© os ossos E conheÃ§o novamente A severidade do inverno.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Neve Silenciosa",
                    original: "é™ã‚‹é›ªã®ã€€é™ã‘ã•ã®ä¸­ã«èº«ã‚’ç½®ã‘ã°ã€€å¿ƒã‚‚é™ã¾ã‚Šå®‰ã‚‰ãå¾—ãŸã‚Š",
                    romaji: "Furu yuki no / Shizukesa no naka ni mi wo okeba / Kokoro mo shizumari yasuragi etari",
                    translation: "Colocando-me no silÃªncio Da neve que cai, Meu coraÃ§Ã£o tambÃ©m se acalma E encontro paz.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },

                // AGOSTO - Inverno
                {
                    title: "Folhas na Geada",
                    original: "äºŒã¤ä¸‰ã¤ã€€ã‚‚ã¿ã¢ã®ã¡ã‚Šè‘‰æ¾ã®è‘‰ã«ã€€ã‹ã‹ã‚‹ãŒè¦‹ã‚†ã‚‹éœœç™½ãæœ",
                    romaji: "Futatsu mittsu / Momiji no chiriba matsu no ha ni / Kakaru ga miyuru shimo shiroki asa",
                    translation: "Duas, trÃªs folhas vermelhas caÃ­das... ficaram presas nos galhos do pinheiro. Vejo-as brilhando nesta manhÃ£ branca de geada.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Pinheiro Verde",
                    original: "å¸¸ç·‘ã®ã€€æ¾ã®ç·‘ã‚‚å†¬ã®æœã€€éœœã«è¦†ã‚ã‚Œç™½ãè¼ã",
                    romaji: "Tokiwa no / Matsu no midori mo fuyu no asa / Shimo ni Åware shiroku kagayaku",
                    translation: "AtÃ© o verde sempre-vivo do pinheiro Numa manhÃ£ de inverno Ã‰ coberto pela geada E brilha em branco.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Orvalho Gelado",
                    original: "å†¬ã®æœã€€è‰è‘‰ã«å‡ã‚‹éœ²è¦‹ã‚Œã°ã€€è‡ªç„¶ã®å³ã—ã•ç¾ã—ãã‹ãª",
                    romaji: "Fuyu no asa / Kusaba ni kÅru tsuyu mireba / Shizen no kibishisa utsukushiki kana",
                    translation: "ManhÃ£ de inverno... Vendo o orvalho congelado nas folhas da grama, A severidade da natureza Ã‰ bela!",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Quietude Invernal",
                    original: "å†¬ã®å¤œã®ã€€é™å¯‚æ·±ãå¿ƒæ¾„ã‚€ã€€ã“ã®é™ã‘ã•ã«èº«ã‚’å§”ã­ãŸã‚Š",
                    romaji: "Fuyu no yoru no / Seijaku fukaku kokoro sumu / Kono shizukesa ni mi wo yudanetari",
                    translation: "A noite de inverno... O silÃªncio Ã© profundo e o coraÃ§Ã£o se purifica. A este silÃªncio Entrego-me completamente.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },
                {
                    title: "Sol Fraco",
                    original: "å†¬æ—¥å’Œã€€å¼±ãæ—¥å·®ã—ã‚‚æœ‰é›£ãã€€æš–ã‚’æ±‚ã‚ã‚‹å¿ƒæº€ãŸã•ã‚‹",
                    romaji: "Fuyubiyori / Yowaki hizashi mo arigataku / Dan wo motomeru kokoro mitasaru",
                    translation: "Dia de bom tempo no inverno... AtÃ© os fracos raios de sol sÃ£o gratos E satisfazem o coraÃ§Ã£o Que busca calor.",
                    kigo: "Inverno",
                    meses: [6, 7, 8]
                },

                // SETEMBRO - Primavera
                {
                    title: "A Primavera Interior",
                    original: "æ˜¥ã¯å…ˆã¥ã€€äººã®å¿ƒã«ç«‹ã¡ãã‚€ã‹ã€€æ˜¨æ—¥ã¨åŒã˜å¯’é¢¨ãµã‘ã©ã‚‚",
                    romaji: "Haru wa mazu / Hito no kokoro ni tachi somuka / KinÅ to onaji kanpÅ« fukedomo",
                    translation: "A Primavera, por acaso, comeÃ§a primeiro dentro do coraÃ§Ã£o humano? Pergunto isso porque, lÃ¡ fora, O mesmo vento gÃ©lido de ontem continua a soprar.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Primeiros Brotos",
                    original: "æ˜¥ã‚ã„ã¦ã€€å°ã•ãªèŠ½å¹ãè¦‹ã¤ã‘ãŸã‚Šã€€å¤§åœ°ã®å‘½ç›®è¦šã‚ã‚‹æ™‚ã‚’",
                    romaji: "Haru meite / Chiisana mebuki mitsuke tari / Daichi no inochi mezameru toki wo",
                    translation: "Cheira a primavera... Encontrei pequenos brotos! Ã‰ o momento em que A vida da terra desperta.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Ar Renovado",
                    original: "æ˜¥ã®é¢¨ã€€å„ªã—ãå¹ãã¦å¿ƒåœ°ã‚ˆã—ã€€æ–°ã—ãå­£ç¯€ã®è¨ªã‚Œæ„Ÿã˜ã¬",
                    romaji: "Haru no kaze / Yasashiku fukite kokochiyoshi / Atarashiki kisetsu no otozure kanjinu",
                    translation: "O vento da primavera sopra gentilmente e agradavelmente... Sinto a chegada Da nova estaÃ§Ã£o.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "EsperanÃ§a Verde",
                    original: "è‹¥è‰ã®ã€€èŒãˆå‡ºã¥ã‚‹é‡è¾ºã‚’çœºã‚€ã‚Œã°ã€€å¸Œæœ›ã«æº€ã¡ãŸã‚‹æ€ã„ã™ã‚‹ãªã‚Š",
                    romaji: "Wakakusa no / Moe izuru nobe wo nagamureba / KibÅ ni michitaru omoi suru nari",
                    translation: "Contemplando os campos onde A grama jovem brota, Sinto-me Cheio de esperanÃ§a.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "CÃ©u Clareando",
                    original: "æ˜¥ã®ç©ºã€€éœãŸãªã³ãç©ã‚„ã‹ã«ã€€å¿ƒã‚‚è»½ããªã‚Šã‚†ãã‚’çŸ¥ã‚‹",
                    romaji: "Haru no sora / Kasumi tanabiki odayaka ni / Kokoro mo karuku nariyuku wo shiru",
                    translation: "O cÃ©u da primavera... A bruma paira suavemente E sei que Meu coraÃ§Ã£o tambÃ©m se torna leve.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },

                // OUTUBRO - Primavera
                {
                    title: "Chuva e Musgo",
                    original: "é›¨ã¯ã‚Œã¦ã€€éœ²ã‚‚ã—ã¨ã©ã®ç¯ã®ã€€ä¸‹ã‹ã’é’ãè‹”ã®èŠ±å’²ã",
                    romaji: "Ame harete / Tsuyu mo shitodo no takamura no / Shitakage aoku koke no hana saku",
                    translation: "A chuva cessou. No bambuzal ainda denso de orvalho, Sob a sombra fresca e Ãºmida, O musgo floresce em verde profundo.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Riacho Cantando",
                    original: "æ˜¥ã®æ°´ã€€ã›ã›ã‚‰ãã®éŸ³å¿ƒåœ°ã‚ˆãã€€è€³ã‚’æ¾„ã¾ã›ã°å¿ƒæ´—ã‚ã‚‹",
                    romaji: "Haru no mizu / Seseragi no oto kokochiyoku / Mimi wo sumaseba kokoro arawareru",
                    translation: "A Ã¡gua da primavera... O som do riacho murmurando Ã© agradÃ¡vel. AguÃ§ando os ouvidos, Meu coraÃ§Ã£o Ã© lavado.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Verde Ressurgindo",
                    original: "æœ¨ã€…ã®èŠ½ã®ã€€å¹ãå‡ºã™æ§˜ã«æ˜¥ã‚’è¦‹ã¦ã€€ç”Ÿå‘½ã®åŠ›æ„Ÿã˜å…¥ã‚Šã¬",
                    romaji: "Kigi no me no / Fukidasu sama ni haru wo mite / Seimei no chikara kanji irinu",
                    translation: "Vendo a primavera Nos brotos que explodem das Ã¡rvores, Sinto profundamente O poder da vida.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Borboletas DanÃ§antes",
                    original: "è¶ã€…ã®ã€€èˆã„é£›ã¶æ˜¥ã®åˆå¾Œã®åº­ã€€ã®ã©ã‹ãªã‚‹æ™‚ã«å¿ƒå’Œã‚€ãªã‚Š",
                    romaji: "ChÅchÅ no / Mai tobu haru no gogo no niwa / Nodoka naru toki ni kokoro nagomu nari",
                    translation: "Borboletas voam danÃ§ando No jardim numa tarde de primavera... Neste tempo tranquilo, Meu coraÃ§Ã£o se harmoniza.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "ManhÃ£ Luminosa",
                    original: "æ˜¥ã®æœã€€å…‰ã‚Šæº¢ã‚‹ã‚‹çª“è¾ºã«ã¦ã€€æ–°ã—ãæ—¥ã®å–œã³æ„Ÿãš",
                    romaji: "Haru no asa / Hikari afururu madobe nite / Atarashiki hi no yorokobi kanzu",
                    translation: "ManhÃ£ de primavera... Ã€ janela transbordante de luz, Sinto a alegria Do novo dia.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },

                // NOVEMBRO - Primavera
                {
                    title: "A Montanha de Cerejeiras",
                    original: "ã‚€ã‚‰ã•ãã®ã€€éœã®å¥¥ã«ã©ã‚“ã‚ˆã‚Šã¨ã€€é™½ã†ã‘ã¦æ¡œã®å±±ãŸãŸãšã¾ã†",
                    romaji: "Murasaki no / Kasumi no oku ni donyori to / Hi ukete sakura no yama tatazumau",
                    translation: "No fundo da bruma purpÃºrea... Banhada por uma luz difusa e pesada, A montanha coberta de cerejeiras repousa imÃ³vel.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Flores Desabrochando",
                    original: "æ˜¥æ·±ãã€€èŠ±ã€…å’²ãèª‡ã‚‹åº­è¦‹ã‚Œã°ã€€è‡ªç„¶ã®æµã¿æ„Ÿè¬ã›ãšãŠã‚Œãš",
                    romaji: "Haru fukaku / Hanabana sakihokoru niwa mireba / Shizen no megumi kansha sezu orezu",
                    translation: "Primavera profunda... Vendo o jardim onde as flores desabrocham orgulhosas, NÃ£o posso deixar de Agradecer as bÃªnÃ§Ã£os da natureza.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Brisa Floral",
                    original: "èŠ±ã®é¦™ã®ã€€æ¼‚ã†æ˜¥ã®å¤•æš®ã‚Œã«ã€€å¿ƒã‚‚è¯ã‚„ãæ€ã„ã™ã‚‹ã‹ãª",
                    romaji: "Hana no ka no / Tadayou haru no yÅ«gure ni / Kokoro mo hanayagu omoi suru kana",
                    translation: "No entardecer de primavera onde O perfume das flores fluor a... Sinto como se Meu coraÃ§Ã£o tambÃ©m florescesse.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "PÃ¡ssaros Cantando",
                    original: "å°é³¥ã‚‰ã®ã€€ã•ãˆãšã‚Šèã“ã‚†æ˜¥ã®æœã€€å¿ƒå¼¾ã¿ã¦ä¸€æ—¥å§‹ã¾ã‚‹",
                    romaji: "Kotorira no / Saezuri kikoyu haru no asa / Kokoro hazumite ichinichi hajimaru",
                    translation: "OuÃ§o o chilrear dos passarinhos Numa manhÃ£ de primavera... Meu coraÃ§Ã£o salta E o dia comeÃ§a.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },
                {
                    title: "Verde Intenso",
                    original: "æ–°ç·‘ã®ã€€çœ©ã—ãç¨‹ã«å…‰ã‚ŠãŸã‚‹ã€€æœ¨ã€…ã‚’è¦‹ä¸Šã’ã¦åŠ›ã‚‚ã‚‰ã„ã¬",
                    romaji: "Shinryoku no / Mabushiki hodo ni hikaritaru / Kigi wo miagete chikara moraimu",
                    translation: "O verde fresco brilha tÃ£o intensamente que ofusca... Olhando para as Ã¡rvores, Recebo forÃ§a.",
                    kigo: "Primavera",
                    meses: [9, 10, 11]
                },

                // DEZEMBRO - VerÃ£o
                {
                    title: "O Crescimento do Povo",
                    original: "æ—¥ã®å…‰ã€€æœˆã®æµã¿ã«ã™ãã™ãã¨ã€€ãŸã¿ãã•ã®ã³ã‚‹ã¨ããã¾ãŸã‚‹ã‚‹",
                    romaji: "Hi no hikari / Tsuki no megumi ni sukusuku to / Tamikusa nobiru toki zo mataruru",
                    translation: "Sob a luz do Sol, E a graÃ§a da Lua, Aguardo o tempo em que o povo, como a relva, CrescerÃ¡ vigoroso e prÃ³spero.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "CÃ©u Azul",
                    original: "å¤ç©ºã®ã€€é’ã•è¦‹ä¸Šã’ã¦å¿ƒæ™´ã‚Œã€€ã“ã®æ—¥ã®å–œã³èƒ¸ã«åˆ»ã¾ã‚‹",
                    romaji: "Natsuzora no / Aosa miagete kokoro hare / Kono hi no yorokobi mune ni kizamaru",
                    translation: "Olhando o azul do cÃ©u de verÃ£o, meu coraÃ§Ã£o se abre... A alegria deste dia Ã‰ gravada em meu peito.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "ForÃ§a Vital",
                    original: "å¤è‰ã®ã€€ç”Ÿã„èŒ‚ã‚‹é‡è¾ºã®åŠ›å¼·ã•ã€€è¦‹ã‚‹ã‚‚é ¼ã‚‚ã—å¿ƒèºã‚‰ã™",
                    romaji: "Natsukusa no / Oishigeru nobe no chikarazuyosa / Miru mo tanomoshi kokoro odorasu",
                    translation: "A forÃ§a das ervas de verÃ£o crescendo densamente nos campos... Ã‰ confiÃ¡vel de ver E faz meu coraÃ§Ã£o saltar.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Dia Radiante",
                    original: "å¤ã®æ—¥ã®ã€€å…‰ã‚Šæº€ã¡ãŸã‚‹åˆå¾Œã®åº­ã€€ç”Ÿå‘½æº¢ã‚‹ã‚‹æ§˜ç¾ã—ã",
                    romaji: "Natsu no hi no / Hikari michitaru gogo no niwa / Seimei afururu sama utsukushiki",
                    translation: "Jardim da tarde cheio Da luz do dia de verÃ£o... Bela Ã© a aparÃªncia Transbordante de vida.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                },
                {
                    title: "Energia do Sol",
                    original: "å¤ªé™½ã®ã€€æµã¿å—ã‘ãŸã‚‹å¤§åœ°è¦‹ã¦ã€€æ„Ÿè¬ã®æ€ã„æ–°ãŸã«ã™ã‚‹ãªã‚Š",
                    romaji: "TaiyÅ no / Megumi uketaru daichi mite / Kansha no omoi arata ni suru nari",
                    translation: "Vendo a terra recebendo As bÃªnÃ§Ã£os do sol, Renovo os sentimentos De gratidÃ£o.",
                    kigo: "VerÃ£o",
                    meses: [1, 2, 12]
                }
            ]
        };

        const mesesPt = [
            'Janeiro', 'Fevereiro', 'MarÃ§o', 'Abril', 'Maio', 'Junho',
            'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
        ];

        const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'SÃ¡b'];

        const feriadosBrasileiros = {
            0: [
                { dia: 1, nome: 'Ano Novo' },
                { dia: 25, nome: 'AniversÃ¡rio de SP' }
            ],
            3: [{ dia: 21, nome: 'Tiradentes' }],
            4: [{ dia: 1, nome: 'Dia do Trabalho' }],
            6: [{ dia: 9, nome: 'RevoluÃ§Ã£o Constitucionalista' }],
            8: [{ dia: 7, nome: 'IndependÃªncia do Brasil' }],
            9: [{ dia: 12, nome: 'Nossa Senhora Aparecida' }],
            10: [
                { dia: 2, nome: 'Finados' },
                { dia: 15, nome: 'ProclamaÃ§Ã£o da RepÃºblica' },
                { dia: 20, nome: 'ConsciÃªncia Negra' }
            ],
            11: [{ dia: 25, nome: 'Natal' }]
        };

        // InicializaÃ§Ã£o
        document.getElementById('mesSelect').value = state.mes;
        document.getElementById('anoInput').value = state.ano;

        function carregarJSON(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const json = JSON.parse(e.target.result);

                    // Aceita diferentes formatos de JSON
                    let poesias = [];
                    if (json.calendario) {
                        // Formato do JSON que criamos (brasileiro)
                        poesias = json.calendario.map(item => ({
                            title: item.poesia.titulo,
                            original: item.poesia.original,
                            translation: item.poesia.traducao,
                            leitura: item.poesia.leitura,
                            kigo: item.estacao_brasil,
                            month: item.mes // mes em portuguÃªs (1-12)
                        }));
                    } else if (Array.isArray(json)) {
                        poesias = json;
                    } else if (json.poesias || json.poems) {
                        poesias = json.poesias || json.poems;
                    }

                    if (poesias.length > 0) {
                        state.todasPoesias = poesias;
                        state.poesiaSelecionada = 0;
                        state.temaFiltro = 'Todos';

                        atualizarSelects();
                        atualizarCalendario();

                        document.getElementById('json-status').textContent = `âœ… ${poesias.length} poesias carregadas`;
                        alert(`âœ… ${poesias.length} poesias carregadas com sucesso!`);
                    } else {
                        alert('âŒ Formato de JSON invÃ¡lido.');
                    }
                } catch (error) {
                    alert('âŒ Erro ao ler o arquivo JSON: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        function randomizarPoesia() {
            // Filtra poesias que sÃ£o apropriadas para o mÃªs atual
            const mesAtual = state.mes + 1;
            const poesiasDoMes = state.todasPoesias.filter(p => p.meses && p.meses.includes(mesAtual));

            if (poesiasDoMes.length === 0) {
                alert('NÃ£o hÃ¡ poesias disponÃ­veis para este mÃªs.');
                return;
            }

            // Escolhe uma poesia aleatÃ³ria
            const indiceAleatorio = Math.floor(Math.random() * poesiasDoMes.length);
            const poesiaEscolhida = poesiasDoMes[indiceAleatorio];

            // Encontra o Ã­ndice real no array completo
            const indiceReal = state.todasPoesias.indexOf(poesiaEscolhida);

            // Salva na memÃ³ria
            state.poesiasEscolhidas[state.mes] = indiceReal;
            state.poesiaSelecionada = indiceReal;

            // Atualiza dependendo da visÃ£o
            if (state.modoVisualizacao === 'grade') {
                renderizarAnoView();
            } else {
                atualizarCalendario();
            }
        }

        function randomizarAnoCompleto() {
            // Nota: NÃ£o usa localStorage (compatibilidade com modo privado)

            const novasEscolhas = [];
            const indicesUsados = new Set(); // Para garantir unicidade no ano

            // Para cada mÃªs (1-12)
            for (let mes = 1; mes <= 12; mes++) {
                const poesiasDoMes = state.todasPoesias.filter(p => p.meses && p.meses.includes(mes));

                if (poesiasDoMes.length === 0) {
                    novasEscolhas.push(null);
                    continue;
                }

                // Tenta filtrar poesias que ainda NÃƒO foram usadas neste ano
                let pool = poesiasDoMes.filter((p) => {
                    const indiceReal = state.todasPoesias.indexOf(p);
                    return !indicesUsados.has(indiceReal);
                });

                // Se nÃ£o hÃ¡ opÃ§Ãµes Ãºnicas (esgotou o estoque para esta estaÃ§Ã£o), 
                // usa todas as disponÃ­veis do mÃªs (permite repetiÃ§Ã£o como fallback)
                if (pool.length === 0) {
                    pool = poesiasDoMes;
                }

                // Escolhe aleatÃ³ria
                const indiceAleatorio = Math.floor(Math.random() * pool.length);
                const poesiaEscolhida = pool[indiceAleatorio];
                const indiceReal = state.todasPoesias.indexOf(poesiaEscolhida);

                indicesUsados.add(indiceReal);
                novasEscolhas.push(indiceReal);
            }

            // Salva as escolhas deste ano (apenas em memÃ³ria)
            state.poesiasEscolhidas = novasEscolhas;

            // Atualiza o calendÃ¡rio para o mÃªs atual
            state.poesiaSelecionada = novasEscolhas[state.mes];
            const poesiaAtual = state.todasPoesias[novasEscolhas[state.mes]];
            const fasesLua = obterDiasFasesLua(state.mes, state.ano);
            const dias = gerarCalendario(state.mes, state.ano);
            renderizarCalendario(poesiaAtual, fasesLua, dias);

            // Se estiver na visÃ£o de grade, atualiza ela tambÃ©m
            if (state.modoVisualizacao === 'grade') {
                renderizarAnoView();
            }

            alert(`âœ… Ano ${state.ano} randomizado com sucesso!\n\n${novasEscolhas.filter(p => p !== null).length} poesias escolhidas.\n\nPoesias Ãºnicas garantidas para o ano!`);
        }

        function atualizarCalendario() {
            state.mes = parseInt(document.getElementById('mesSelect').value);
            state.ano = parseInt(document.getElementById('anoInput').value);

            const poesiasFiltradas = state.temaFiltro === 'Todos'
                ? state.todasPoesias
                : state.todasPoesias.filter(p => p.kigo && p.kigo.includes(state.temaFiltro));

            // Busca a poesia especÃ­fica para o mÃªs atual (mes + 1 porque Ã© 0-indexed)
            const mesAtual = state.mes + 1;
            let poesiaDoMesIndex = poesiasFiltradas.findIndex(p => p.meses && p.meses.includes(mesAtual));

            // Se nÃ£o houver poesia especÃ­fica selecionada, escolhe a primeira do mÃªs 
            if (poesiaDoMesIndex === -1) {
                // Tenta encontrar qualquer poesia do mÃªs na lista completa
                poesiaDoMesIndex = state.todasPoesias.findIndex(p => p.meses && p.meses.includes(mesAtual));
                if (poesiaDoMesIndex !== -1) {
                    state.poesiaSelecionada = poesiaDoMesIndex;
                }
            } else {
                state.poesiaSelecionada = poesiaDoMesIndex;
            }

            const poesiaAtual = state.todasPoesias[state.poesiaSelecionada] || poesiasFiltradas[0];
            const fasesLua = obterDiasFasesLua(state.mes, state.ano);
            const dias = gerarCalendario(state.mes, state.ano);

            renderizarCalendario(poesiaAtual, fasesLua, dias);
        }

        function gerarCalendario(mes, ano) {
            const primeiroDia = new Date(ano, mes, 1).getDay();
            const ultimoDia = new Date(ano, mes + 1, 0).getDate();

            const dias = [];

            for (let i = 0; i < primeiroDia; i++) {
                dias.push({ dia: '', mesAtual: false });
            }

            for (let i = 1; i <= ultimoDia; i++) {
                dias.push({ dia: i, mesAtual: true });
            }

            const diasRestantes = 42 - dias.length;
            for (let i = 0; i < diasRestantes; i++) {
                dias.push({ dia: '', mesAtual: false });
            }

            return dias;
        }

        function calcularPascoa(ano) {
            const a = ano % 19;
            const b = Math.floor(ano / 100);
            const c = ano % 100;
            const d = Math.floor(b / 4);
            const e = b % 4;
            const f = Math.floor((b + 8) / 25);
            const g = Math.floor((b - f + 1) / 3);
            const h = (19 * a + b - d - g + 15) % 30;
            const i = Math.floor(c / 4);
            const k = c % 4;
            const l = (32 + 2 * e + 2 * i - h - k) % 7;
            const m = Math.floor((a + 11 * h + 22 * l) / 451);
            const mesPascoa = Math.floor((h + l - 7 * m + 114) / 31);
            const diaPascoa = ((h + l - 7 * m + 114) % 31) + 1;

            return new Date(ano, mesPascoa - 1, diaPascoa);
        }

        function ehFeriado(dia, mes, ano) {
            // ForÃ§a bruta para garantir o Natal
            if (mes === 11 && dia === 25) return 'Natal';

            const feriadoFixo = feriadosBrasileiros[mes]?.find(f => f.dia === dia);
            if (feriadoFixo) return feriadoFixo.nome;

            const pascoa = calcularPascoa(ano);

            const carnaval = new Date(pascoa);
            carnaval.setDate(pascoa.getDate() - 47);
            if (mes === carnaval.getMonth() && dia === carnaval.getDate()) return 'Carnaval';

            const sextaSanta = new Date(pascoa);
            sextaSanta.setDate(pascoa.getDate() - 2);
            if (mes === sextaSanta.getMonth() && dia === sextaSanta.getDate()) return 'Sexta-feira Santa';

            const corpus = new Date(pascoa);
            corpus.setDate(pascoa.getDate() + 60);
            if (mes === corpus.getMonth() && dia === corpus.getDate()) return 'Corpus Christi';

            return null;
        }

        function obterDiasFasesLua(mes, ano) {
            const ultimoDia = new Date(ano, mes + 1, 0).getDate();
            const fases = { nova: null, crescente: null, cheia: null, minguante: null };

            for (let dia = 1; dia <= ultimoDia; dia++) {
                const data = new Date(ano, mes, dia);
                const conhecidaLuaNova = new Date(2000, 0, 6);
                const cicleLunar = 29.53058867;
                const diasDesde = (data - conhecidaLuaNova) / (1000 * 60 * 60 * 24);
                const fase = ((diasDesde % cicleLunar) + cicleLunar) % cicleLunar;

                if (fase < 1.5 && fases.nova === null) fases.nova = dia;
                else if (fase >= 6.5 && fase < 8.5 && fases.crescente === null) fases.crescente = dia;
                else if (fase >= 13.5 && fase < 15.5 && fases.cheia === null) fases.cheia = dia;
                else if (fase >= 20.5 && fase < 22.5 && fases.minguante === null) fases.minguante = dia;
            }

            return fases;
        }

        // FunÃ§Ã£o auxiliar para dividir poema em 3 partes
        function dividirPoemaEm3(texto) {
            // Remove espaÃ§os extras e divide por espaÃ§os japoneses ou regulares
            const partes = texto.replace(/ã€€/g, ' ').split(' ').filter(p => p.trim());
            const total = partes.length;

            if (total <= 3) {
                return partes.concat(['', '', '']).slice(0, 3);
            }

            // Divide em 3 grupos aproximadamente iguais
            const tamanho = Math.ceil(total / 3);
            return [
                partes.slice(0, tamanho).join(''),
                partes.slice(tamanho, tamanho * 2).join(''),
                partes.slice(tamanho * 2).join('')
            ];
        }

        // FunÃ§Ã£o para gerar mini calendÃ¡rio (visÃ£o compacta)
        function gerarMiniCalendario(mes, ano) {
            const primeiroDia = new Date(ano, mes, 1).getDay();
            const ultimoDia = new Date(ano, mes + 1, 0).getDate();

            let html = `<div class="mini-cal">
                <div class="mini-cal-header">${mes + 1}</div>
                <div class="mini-cal-days">
                    ${['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'].map((d, i) =>
                `<span class="${i === 0 ? 'sun' : (i === 6 ? 'sat' : '')}">${d}</span>`
            ).join('')}
            `;

            // EspaÃ§os vazios antes do dia 1
            for (let i = 0; i < primeiroDia; i++) {
                html += '<span></span>';
            }

            // Dias do mÃªs (com feriados em vermelho)
            for (let d = 1; d <= ultimoDia; d++) {
                const diaSemana = (primeiroDia + d - 1) % 7;
                const feriado = ehFeriado(d, mes, ano);
                let classe = '';

                if (feriado || diaSemana === 0) {
                    classe = 'sun'; // Vermelho para domingos e feriados
                } else if (diaSemana === 6) {
                    classe = 'sat'; // Azul para sÃ¡bados
                }

                html += `<span class="${classe}">${d}</span>`;
            }

            html += '</div></div>';
            return html;
        }

        function renderizarCalendario(poesia, fasesLua, dias) {
            const calendario = document.getElementById('calendario');

            // Formatar HTML das fases da lua (usando SVG para tamanho uniforme)
            const moonSVG = {
                crescente: '<svg viewBox="0 0 24 24" width="20" height="20"><circle cx="12" cy="12" r="10" fill="none" stroke="#555" stroke-width="1.5"/><path d="M12 2a10 10 0 0 1 0 20" fill="#555"/></svg>',
                cheia: '<svg viewBox="0 0 24 24" width="20" height="20"><circle cx="12" cy="12" r="10" fill="none" stroke="#555" stroke-width="1.5"/></svg>',
                minguante: '<svg viewBox="0 0 24 24" width="20" height="20"><circle cx="12" cy="12" r="10" fill="none" stroke="#555" stroke-width="1.5"/><path d="M12 2a10 10 0 0 0 0 20" fill="#555"/></svg>',
                nova: '<svg viewBox="0 0 24 24" width="20" height="20"><circle cx="12" cy="12" r="10" fill="#555"/></svg>'
            };

            const luasHTML = [
                { svg: moonSVG.crescente, dia: fasesLua.crescente },
                { svg: moonSVG.cheia, dia: fasesLua.cheia },
                { svg: moonSVG.minguante, dia: fasesLua.minguante },
                { svg: moonSVG.nova, dia: fasesLua.nova }
            ].filter(f => f.dia).map(f => `
                <div class="moon-phase">
                    <span>${f.svg}</span>
                    <span>${f.dia}</span>
                </div>
            `).join('');

            // Filtrar apenas dias vÃ¡lidos do mÃªs atual
            const diasValidos = dias.filter(d => d && d.mesAtual && d.dia);

            // Construir LISTA de Dias (vertical)
            let listaDiasHTML = diasValidos.map(dia => {
                const feriadoNome = ehFeriado(dia.dia, state.mes, state.ano);
                const diaDaSemanaIndex = (new Date(state.ano, state.mes, dia.dia)).getDay();
                const diaSemanaInfo = diasDaSemanaComKanji[diaDaSemanaIndex];

                const isDomingo = diaDaSemanaIndex === 0;
                const isSabado = diaDaSemanaIndex === 6;

                let rowClass = 'day-row';
                if (isDomingo) rowClass += ' sunday-row';
                if (isSabado) rowClass += ' saturday-row';
                if (feriadoNome) rowClass += ' holiday-row';

                return `
                    <div class="${rowClass}">
                        <div class="day-num">${dia.dia}</div>
                        <div class="day-weekday-jp">${diaSemanaInfo.jp}</div>
                        <div class="day-info-container">
                            <div class="day-feriado">${feriadoNome ? feriadoNome : ''}</div>
                        </div>
                    </div>
                `;
            }).join('');

            // Dividir poema em 3 colunas
            const linhasPoema = dividirPoemaEm3(poesia.original);
            const poemHTML = linhasPoema.map(linha =>
                `<div class="poem-line">${linha}</div>`
            ).join('');

            // Mini calendÃ¡rios do mÃªs anterior e prÃ³ximo
            const mesAnterior = state.mes === 0 ? 11 : state.mes - 1;
            const anoAnterior = state.mes === 0 ? state.ano - 1 : state.ano;
            const mesProximo = state.mes === 11 ? 0 : state.mes + 1;
            const anoProximo = state.mes === 11 ? state.ano + 1 : state.ano;

            const miniCalAnterior = gerarMiniCalendario(mesAnterior, anoAnterior);
            const miniCalProximo = gerarMiniCalendario(mesProximo, anoProximo);

            // HTML Completo - Layout Lista
            calendario.innerHTML = `
                <!-- SeÃ§Ã£o CalendÃ¡rio (ESQUERDA) - LISTA VERTICAL -->
                <div class="calendar-section">
                    <div class="calendar-header">
                        <div class="month-title">
                            ${state.ano}
                            <span class="month-label">${mesesPt[state.mes].toUpperCase()}</span>
                        </div>
                        <div class="moon-phases">
                            <div class="moon-phases-row">${luasHTML}</div>
                        </div>
                    </div>
                    
                    <div class="list-header">
                        <span>Dia</span>
                        <span>æ›œæ—¥</span>
                        <span></span>
                    </div>

                    <div class="calendar-list">
                        ${listaDiasHTML}
                    </div>
                </div>

                <!-- SeÃ§Ã£o Poesia (DIREITA) - 3 COLUNAS VERTICAIS -->
                <div class="hero-section">
                    <div class="poesia-columns">
                        ${poemHTML}
                    </div>
                    
                </div>

                <!-- RODAPÃ‰: Mini CalendÃ¡rios + TraduÃ§Ã£o + Romaji -->
                <div class="calendar-footer">
                    <div class="footer-mini-cal">
                        ${miniCalAnterior}
                    </div>
                    <div class="footer-traducao">
                        <div class="footer-obra-titulo">å±±ã¨æ°´ (Yama To Mizu)</div>
                        <div class="romaji-texto">${poesia.romaji || ''}</div>
                        <div class="traducao-texto">${poesia.translation || poesia.traducao}</div>
                    </div>
                    <div class="footer-mini-cal">
                        ${miniCalProximo}
                    </div>
                </div>
            `;
        }

        // --- LÃ“GICA DA VISÃƒO ANUAL INTERATIVA ---

        state.modoVisualizacao = 'unico'; // 'unico' ou 'grade'

        function alternarVisao() {
            const calendarioDiv = document.getElementById('calendario');
            const visaoAnoDiv = document.getElementById('visaoAno');
            const btn = document.querySelector('button[onclick="alternarVisao()"]');

            if (state.modoVisualizacao === 'unico') {
                state.modoVisualizacao = 'grade';
                calendarioDiv.style.display = 'none';
                visaoAnoDiv.style.display = 'grid';
                btn.innerHTML = 'ğŸ‘ï¸ Ver MÃªs Ãšnico';
                renderizarAnoView();
            } else {
                state.modoVisualizacao = 'unico';
                calendarioDiv.style.display = 'block';
                visaoAnoDiv.style.display = 'none';
                btn.innerHTML = 'ğŸ‘ï¸ Ver Grade Anual';
                atualizarCalendario(); // Volta para o mÃªs selecionado
            }
        }

        function selecionarMes(mesIndex) {
            state.mes = mesIndex;
            document.getElementById('mesSelect').value = mesIndex;

            // Re-renderizar grade para atualizar seleÃ§Ã£o visual
            renderizarAnoView();
        }

        function renderizarAnoView() {
            const visaoAnoDiv = document.getElementById('visaoAno');
            if (state.modoVisualizacao !== 'grade') return;

            let htmlFull = '';

            for (let m = 0; m < 12; m++) {
                // Obter poesia
                let poesiaDoMes;
                const indicePoesiaEscolhida = state.poesiasEscolhidas[m];

                if (indicePoesiaEscolhida !== null) {
                    poesiaDoMes = state.todasPoesias[indicePoesiaEscolhida];
                } else {
                    // Se nÃ£o tiver escolhida, pega padrÃ£o da Ã©poca
                    poesiaDoMes = state.todasPoesias.find(p => p.meses.includes(m + 1)) || state.todasPoesias[0];
                }

                const fasesLuaMes = obterDiasFasesLua(m, state.ano);
                const diasMes = gerarCalendario(m, state.ano);
                const isSelecionado = (m === state.mes);

                // Gerar grid de dias do mÃªs
                let diasHTML = '';
                diasMes.forEach((d, i) => {
                    const nomeFeriado = d.mesAtual && d.dia ? ehFeriado(d.dia, m, state.ano) : null;
                    const isDomingo = i % 7 === 0;
                    const isSabado = i % 7 === 6;
                    const rowIndex = Math.floor(i / 7);
                    const colIndex = i % 7;
                    const borderBottom = rowIndex < 5 ? 'border-bottom: 1px solid #e5e5e5;' : '';
                    const borderRight = colIndex < 6 ? 'border-right: 1px solid #e5e5e5;' : '';

                    diasHTML += `
                      <div class="day-cell ${d.mesAtual ? 'current-month' : 'other-month'}" 
                           style="${borderBottom} ${borderRight}">
                        ${d.dia ? `<div class="day-number ${nomeFeriado ? 'holiday' : ''} ${isDomingo ? 'sunday' : ''} ${isSabado ? 'saturday' : ''}"
                               style="color: ${nomeFeriado || isDomingo ? '#dc2626' : (isSabado ? '#2563eb' : (d.mesAtual ? '#1a1a1a' : '#bbb'))};">
                            ${d.dia}
                          </div>` : ''}
                      </div>`;
                });

                // HTML do Card Miniatura
                htmlFull += `
                <div class="card-miniatura ${isSelecionado ? 'selecionado' : ''}" onclick="selecionarMes(${m})">
                    <div class="card-miniatura-content">
                         <div class="hero-section">
                          <div style="font-size: 11px; letter-spacing: 3px; text-transform: uppercase; color: #999; margin-bottom: 40px; font-weight: 400;">Yama to Mizu</div>
                          <div class="poesia-original">${poesiaDoMes.original}</div>
                          <div class="poesia-traducao">${poesiaDoMes.translation}</div>
                        </div>
                        
                        <div class="calendar-section">
                          <div class="calendar-header">
                            <div class="month-title">${mesesPt[m]}</div>
                            <div class="moon-phases">
                              <div class="moon-phases-row">
                                <span class="moon-icon">â—</span>
                                <span>${fasesLuaMes.crescente || '-'}</span>
                                <span class="moon-icon" style="margin-left: 4px;">â—‹</span>
                                <span>${fasesLuaMes.cheia || '-'}</span>
                              </div>
                            </div>
                          </div>
                          <div class="calendar-grid">
                            ${diasDaSemanaComKanji.map((dia, i) => `
                              <div class="day-header" style="${i < 6 ? 'border-right: 1px solid #e5e5e5;' : ''}; color: ${i === 0 ? '#dc2626' : (i === 6 ? '#2563eb' : '#737373')};">
                                <span class="kanji-day">${dia.jp}</span>
                                <span>${dia.pt}</span>
                              </div>
                            `).join('')}
                            ${diasHTML}
                          </div>
                          <div class="year-footer">${state.ano}</div>
                        </div>
                    </div>
                </div>`;
            }

            visaoAnoDiv.innerHTML = htmlFull;
        }

        // --- FIM LÃ“GICA VISÃƒO ANUAL ---

        function imprimirMes() {
            const tamanhoPapel = document.getElementById('tamanhoPapel').value;

            // Adiciona classe ao body baseado no tamanho selecionado
            document.body.classList.add(`print-${tamanhoPapel.toLowerCase()}`);

            // Aguarda um pouco para aplicar o estilo
            setTimeout(() => {
                window.print();

                // Remove a classe apÃ³s imprimir
                window.onafterprint = () => {
                    document.body.classList.remove(`print-${tamanhoPapel.toLowerCase()}`);
                };
            }, 100);
        }

        function imprimirAnoCompleto() {
            const tamanhoPapel = document.getElementById('tamanhoPapel').value;
            const janelaImpressao = window.open('', '', 'height=1200,width=1400');

            let htmlCompleto = `
        <!DOCTYPE html>
        <html>
        <head>
          <title>CalendÃ¡rio ${state.ano} - Ano Completo</title>
          <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400&display=swap" rel="stylesheet">
          <style>
            ${document.querySelector('style').textContent}
            .pagina { page-break-after: always; }
            .pagina:last-child { page-break-after: auto; }
          </style>
        </head>
        <body class="print-${tamanhoPapel.toLowerCase()}">
      `;

            for (let m = 0; m < 12; m++) {
                // Obter poesia
                let poesiaDoMes;
                const indicePoesiaEscolhida = state.poesiasEscolhidas[m];

                if (indicePoesiaEscolhida !== null) {
                    poesiaDoMes = state.todasPoesias[indicePoesiaEscolhida];
                } else {
                    poesiaDoMes = state.todasPoesias.find(p => p.meses.includes(m + 1)) || state.todasPoesias[0];
                }

                const fasesLuaMes = obterDiasFasesLua(m, state.ano);
                const diasMes = gerarCalendario(m, state.ano);

                // Formatar Fases Lua
                const fasesLuaFormatadas = [
                    { emoji: 'â—', dia: fasesLuaMes.crescente },
                    { emoji: 'â—‹', dia: fasesLuaMes.cheia },
                    { emoji: 'â—‘', dia: fasesLuaMes.minguante },
                    { emoji: 'â—', dia: fasesLuaMes.nova }
                ].filter(f => f.dia); // Filter out phases that don't exist for the month

                const luasHTML = fasesLuaFormatadas.map(f => `
                    <div class="moon-phase">
                        <span>${f.emoji}</span>
                        <span>${f.dia}</span>
                    </div>
                `).join('');

                // Gerar LISTA de dias (Print)
                const diasValidos = diasMes.filter(d => d.mesAtual && d.dia); // Only current month days
                let listaDiasHTML = diasValidos.map(dia => {
                    const feriadoNome = ehFeriado(dia.dia, m, state.ano);
                    const diaDaSemanaIndex = (new Date(state.ano, m, dia.dia)).getDay();
                    const diaSemanaInfo = diasDaSemanaComKanji[diaDaSemanaIndex]; // Use diasDaSemanaComKanji

                    const isDomingo = diaDaSemanaIndex === 0;
                    const isSabado = diaDaSemanaIndex === 6;

                    let rowClass = 'day-row';
                    if (isDomingo) rowClass += ' sunday-row';
                    if (isSabado) rowClass += ' saturday-row';
                    if (feriadoNome) rowClass += ' holiday-row';

                    return `
                        <div class="${rowClass}">
                            <div class="day-num">${dia.dia}</div>
                            <div class="day-weekday-jp">${diaSemanaInfo.jp}</div>
                            <div class="day-info-container">
                                <div class="day-feriado">${feriadoNome ? feriadoNome : ''}</div>
                            </div>
                        </div>
                    `;
                }).join('');

                htmlCompleto += `
          <div class="pagina" id="calendario">
            <!-- SeÃ§Ã£o CalendÃ¡rio (Esquerda) -->
            <div class="calendar-section">
                <div class="calendar-header">
                    <div class="month-title">
                        ${m + 1}
                        <span class="month-label">${mesesPt[m].toUpperCase()}</span>
                    </div>
                    <div class="moon-phases">
                            <div class="moon-phases-row">${luasHTML}</div>
                    </div>
                </div>
                
                <div class="list-header">
                    <span>Dia</span>
                    <span>Semana</span>
                    <span>Detalhes</span>
                </div>

                <div class="calendar-list">
                    ${listaDiasHTML}
                </div>
                <div class="year-footer-small">${state.ano}</div>
            </div>

            <!-- SeÃ§Ã£o Poesia (Direita) -->
            <div class="hero-section">
                <div class="poesia-columns">
                    <div class="poesia-original">${poesiaDoMes.original}</div>
                </div>
                

                <div class="poesia-traducao-wrapper">
                    <div class="poesia-traducao">"${poesiaDoMes.traducao || poesiaDoMes.translation}"</div>
                
                </div>
            </div>
          </div>
        `;
            }

            htmlCompleto += '</body></html>';

            janelaImpressao.document.write(htmlCompleto);
            janelaImpressao.document.close();

            setTimeout(() => {
                janelaImpressao.print();
                janelaImpressao.onafterprint = () => janelaImpressao.close();
            }, 500);
        }

        // Inicializar
        atualizarCalendario();
    </script>
</body>

</html>